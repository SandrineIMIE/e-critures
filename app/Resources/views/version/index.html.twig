{% extends 'base.html.twig' %}
{% block stylesheets %}
{% endblock %}
        {% block javascripts %}
            <script src="{{ asset('js/tinymce.min.js') }}"></script>
            <script src="{{ asset('js/langs/fr_FR.js') }}"></script>
            <script>tinymce.init({
                    selector: 'textarea',
                    theme: 'modern',
                    plugins: [
                        'advlist autolink charmap print ',
                        'searchreplace wordcount visualchars ',
                        'nonbreaking save contextmenu directionality',
                        'paste textpattern'
                    ],
                    wordcount_cleanregex: /[0-9.(),;:!?%#$?\x27\x22_+=\\\/\-]*/g,
                    toolbar1: 'undo redo | styleselect | bold italic strikethrough | cadratin | alignleft aligncenter alignright alignjustify |' +
                    ' print | searchreplace | version ',
                    autosave_interval: "60s",
                    setup: function (editor) {
                        editor.addButton('cadratin', {
                            text: 'â€”',
                            icon: false,
                            onclick: function () {
                                editor.insertContent('&mdash;');
                            }
                        });
                    },
                    setup: function (editor) {
                        editor.addButton('version', {
                            text: 'VS',
                            icon: false,
                            onclick: function () {
                                editor.insertContent('&mdash;');
                            }
                        });
                    },
                    formats: {
                        alignleft: {selector: 'p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img', classes: 'left'},
                        aligncenter: {selector: 'p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img', classes: 'center'},
                        alignright: {selector: 'p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img', classes: 'right'},
                        alignfull: {selector: 'p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img', classes: 'full'},
                        bold: {inline: 'span', 'classes': 'bold'},
                        italic: {inline: 'span', 'classes': 'italic'},
                        underline: {inline: 'span', 'classes': 'underline', exact: true},
                        strikethrough: {inline: 'del'},
                    },
//        autosave_prefix: "tinymce-autosave-{path}{query}-{id}-"

                });</script>
        {% endblock %}
{% block body %}
    <table>
        <thead>
        <tr>
            <th>Contenu</th>
            <th>Versionat</th>
            <th>Vs</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        {% for version in versions %}
            <tr>
                <td>{{ version.contenu }}</td>
                <td>{% if version.versionat %}{{ version.versionat|date('Y-m-d H:i:s') }}{% endif %}</td>
                <td>{{ version.vs }}</td>
                <td>
                    <ul>
                        <li>
                            <a href="{{ path('version_show',  {'id': version.id }) }}">Voir</a>
                        </li>
                    </ul>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    {#<ul>#}
        {#<li>#}
            {#<a href="{{ path('version_new', { 'id': chapitre.id }) }}">Creer une version/a>#}
        {#</li>#}
    {#</ul>#}
{% endblock %}
