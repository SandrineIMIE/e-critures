{% extends 'base.html.twig' %}
{% block stylesheets %}{% endblock %}
    {% block dahsbord%}
    {% endblock %}
    {% block nav %}
        {% include 'default/nav.dashboard.html.twig' %}
    {% endblock %}
{% block javascripts %}
    <script src="{{ asset('js/tinymce.min.js') }}"></script>
    <script src="{{ asset('js/langs/fr_FR.js') }}"></script>
    <script>tinymce.init({
            selector: 'textarea',
            height: 500,
            theme: 'modern',
            plugins: [
                "advlist save autosave charmap print preview pagebreak spellchecker",
                "searchreplace wordcount visualchars code insertdatetime  nonbreaking",
                "contextmenu  textcolor paste textpattern textcolor colorpicker"
            ],
            autosave_ask_before_unload:true,
            autosave_interval: "20s",
            wordcount_cleanregex: /[0-9.(),;:!?%#$?\x27\x22_+=\\\/\-]*/g,
            toolbar1: " bold italic strikethrough | trait | alignleft aligncenter alignright alignjustify " +
            "| styleselect formatselect fontselect fontsizeselect | forecolor backcolor ",
            toolbar2: "removeformat | subscript superscript | charmap | print | spellchecker | " +
            "visualchars nonbreaking | restoredraft save | cut copy paste | undo redo searchreplace",
            menubar: false,
            toolbar_items_size: 'small',
            autosave_interval: "20s",
            setup: function (editor) {
                editor.addButton('trait', {
                    text: '—',
                    label: ' insère un tiret cadratin',
                    icon: false,
                    onclick: function () {
                        editor.insertContent('&mdash;');
                    }
                });
            },
            content_css: [
                '//fast.fonts.net/cssapi/e6dc9b99-64fe-4292-ad98-6974f93cd2a2.css',
                '//www.tinymce.com/css/codepen.min.css' ],
            formats: {
                alignleft: {selector: 'p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img', classes: 'left'},
                aligncenter: {selector: 'p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img', classes: 'center'},
                alignright: {selector: 'p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img', classes: 'right'},
                alignfull: {selector: 'p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img', classes: 'full'},
                bold: {inline: 'span', 'classes': 'bold'},
                italic: {inline: 'span', 'classes': 'italic'},
                underline: {inline: 'span', 'classes': 'underline', exact: true},
                strikethrough: {inline: 'del'},
            },
//        autosave_prefix: "tinymce-autosave-{path}{query}-{id}-"

        });</script>
{% endblock %}

{% block body %}
    <h1>{{ chapitre.project.title }} : {{ chapitre.title }}</h1>

    {{ form_start(edit_form) }}
        {{ form_widget(edit_form) }}
        <input type="submit" value="Modifier">
    {{ form_end(edit_form) }}
    <table><tr>
            <td>
                {{ form_start(delete_form) }}
                <input type="submit" value="Supprimer">
                {{ form_end(delete_form) }}
                &nbsp; Versionner ce chapitre &nbsp;
               {#<a href="{{ path('chapitre_list', { 'id': chapitre.project.id }) }}">Table des matières</a>#}
            </td>
        </tr>
    </table>


{% endblock %}
{% block menuprincipale %}
    {% include ':default:menu.project3.twig' %}
{% endblock %}
{% block menusecondaire %}

{% endblock %}
